(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),n={};n.element=e,n.parent=e.parentNode,n.destination=document.querySelector(`${t[0].trim()}`),n.breakpoint=t[1]?t[1].trim():"767",n.place=t[2]?t[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,n)=>n.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),n=window.matchMedia(t[0]),i=t[1],a=this.оbjects.filter((({breakpoint:e})=>e===i));n.addEventListener("change",(()=>{this.mediaHandler(n,a)})),this.mediaHandler(n,a)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:n})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,n)}))}moveTo(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.append(t):"first"!==e?n.children[e].before(t):n.prepend(t)}moveBack(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint))}}("max").init();const t=document.getElementById("buttonRepeatGame"),n=document.getElementById("modelWindow"),i=document.querySelector(".body"),a=document.querySelector(".game__start-window"),o=document.querySelector(".game__canvas"),r=document.querySelectorAll(".game__task-item"),l=document.querySelector(".game__actions"),s={clickSound:new Audio("../img/audio/clickBtnSound.wav"),startAudio:new Audio("../img/audio/startAudio.wav"),trueAnswer:new Audio("../img/audio/trueAnswer.wav"),falseAnswer:new Audio("../img/audio/falseAnswer.wav")};function d(){g(),n.classList.add("show-model"),i.classList.add("locked"),clearInterval(h)}function c(){A(),n.classList.remove("show-model"),i.classList.remove("locked"),clearInterval(h),w=0,p=0,f=0,m.innerText="00",u.innerText="00",h=setInterval(y,10)}t.addEventListener("click",(function(e){c()})),window.addEventListener("load",(function(e){a.innerHTML='<button id="startGameBtn">Начать игру</button>';const t=document.getElementById("startGameBtn");t.addEventListener("click",(function(){o.style.filter="none",o.style.mixBlendMode="normal",t.style.display="none",s.clickSound.play(),s.startAudio.play(),a.style.display="none",h=setInterval(y,10),l.style.display="inline-flex"}));for(const e of r)e.addEventListener("click",(function(){e.classList.contains("trueAnswer")?(s.trueAnswer.play(),d()):s.falseAnswer.play()}))}));const m=document.querySelector(".seconds"),u=document.querySelector(".minutes");let h,w=0,p=0,f=0;function y(){w++,w>99&&(p++,m.innerText="0"+p,w=0),p>9&&(m.innerText=p),p>59&&(f++,u.innerText="0"+f,p=0,m.innerText="00"),f>9&&(u.innerText=f)}let g,v,b,A;!function(){g=r,v=l,b=function(){t?l():r()},A=function(){v(),i=[]};let e=["DodgerBlue","OliveDrab","Gold","Pink","SlateBlue","LightBlue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],t=!1,n=null,i=[],a=0;function o(t,n,i){return t.color=e[Math.random()*e.length|0],t.x=Math.random()*n,t.y=Math.random()*i-i,t.diameter=10*Math.random()+5,t.tilt=10*Math.random()-10,t.tiltAngleIncrement=.07*Math.random()+.05,t.tiltAngle=0,t}function r(){var e=window.innerWidth,r=window.innerHeight;window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,16.6666667)};let l=document.getElementById("confetti-canvas");null===l&&(l=document.createElement("canvas"),l.setAttribute("id","confetti-canvas"),l.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:absolute;"),document.body.prepend(l),l.width=e,l.height=r,window.addEventListener("resize",(function(){l.width=window.innerWidth,l.height=window.innerHeight}),!0));let s=l.getContext("2d");for(;i.length<150;)i.push(o({},e,r));t=!0,null===n&&function e(){s.clearRect(0,0,window.innerWidth,window.innerHeight),0===i.length?n=null:(!function(){let e,n=window.innerWidth,r=window.innerHeight;a+=.01;for(let l=0;l<i.length;l++)e=i[l],!t&&e.y<-15?e.y=r+100:(e.tiltAngle+=e.tiltAngleIncrement,e.x+=Math.sin(a),e.y+=.5*(Math.cos(a)+e.diameter+2),e.tilt=15*Math.sin(e.tiltAngle)),(e.x>n+20||e.x<-20||e.y>r)&&(t&&i.length<=150?o(e,n,r):(i.splice(l,1),l--))}(),function(e){let t,n;for(var a=0;a<i.length;a++)t=i[a],e.beginPath(),e.lineWidth=t.diameter,e.strokeStyle=t.color,n=t.x+t.tilt,e.moveTo(n+t.diameter/2,t.y),e.lineTo(n,t.y+t.tilt+t.diameter/2),e.stroke()}(s),n=requestAnimFrame(e))}()}function l(){t=!1}}(),window.FLS=!0})();